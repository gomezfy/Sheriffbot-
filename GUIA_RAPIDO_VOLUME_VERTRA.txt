╔═══════════════════════════════════════════════════════════════╗
║  🚨 URGENTE: CONFIGURAR VOLUME PERSISTENTE NO VERTRA CLOUD   ║
╚═══════════════════════════════════════════════════════════════╝

⚠️  PROBLEMA ATUAL:
    Quando você faz GIT PUSH ou RESTART no Vertra, todos os dados
    dos usuários são PERDIDOS (economia, territórios, perfis, etc.)

✅  SOLUÇÃO: Configurar Volume Persistente

═══════════════════════════════════════════════════════════════

📋 PASSO A PASSO RÁPIDO:

┌─────────────────────────────────────────────────────────────┐
│ 1️⃣  ACESSAR PAINEL DO VERTRA                                │
└─────────────────────────────────────────────────────────────┘
   → Entre em https://vertracloud.app
   → Selecione o projeto "Sheriff Bot"

┌─────────────────────────────────────────────────────────────┐
│ 2️⃣  PROCURAR CONFIGURAÇÕES DE VOLUME                        │
└─────────────────────────────────────────────────────────────┘
   Procure por uma dessas opções no menu:
   → "Volumes"
   → "Storage"  
   → "Persistent Storage"
   → "Configurações" → "Armazenamento"

┌─────────────────────────────────────────────────────────────┐
│ 3️⃣  CRIAR VOLUME PERSISTENTE                                │
└─────────────────────────────────────────────────────────────┘
   Clique em "Adicionar Volume" ou "Create Volume"
   
   Configure:
   ┌───────────────────────────────────────┐
   │ Nome:     bot-data                    │
   │ Caminho:  /app/data                   │
   │ Tamanho:  1GB (mínimo)               │
   └───────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 4️⃣  REINICIAR O BOT                                         │
└─────────────────────────────────────────────────────────────┘
   ✅ O bot detecta produção AUTOMATICAMENTE!
   ✅ NÃO precisa configurar NODE_ENV=production

┌─────────────────────────────────────────────────────────────┐
│ 5️⃣  FAZER GIT PUSH PARA O VERTRA                            │
└─────────────────────────────────────────────────────────────┘
   → Settings → Restart Application
   → Ou clique em "Restart"

┌─────────────────────────────────────────────────────────────┐
│ 6️⃣  TESTAR SE FUNCIONOU                                     │
└─────────────────────────────────────────────────────────────┘
   No Discord:
   
   1. Execute comandos que salvam dados:
      /daily
      /mine
      /profile

   2. Reinicie o bot no Vertra novamente
   
   3. Execute os mesmos comandos:
      /profile
      /balance
      
   ✅ SUCESSO: Dados permaneceram após restart
   ❌ FALHOU: Continue lendo o guia completo

═══════════════════════════════════════════════════════════════

🔍 VERIFICAR LOGS DO BOT

Após reiniciar, procure estas mensagens nos logs:

   ✅ Correto:
      📁 Data directory: /app/data
      ✅ Sistema de dados pronto!

   ❌ Incorreto (precisa configurar NODE_ENV):
      📁 Data directory: /workspace/src/data

═══════════════════════════════════════════════════════════════

⚠️  SE O VERTRA NÃO OFERECE VOLUMES PERSISTENTES

Algumas plataformas não têm essa funcionalidade. Neste caso:

OPÇÃO 1: Migrar para PostgreSQL ⭐ RECOMENDADO
   → Dados 100% seguros e permanentes
   → Suporte a múltiplas instâncias
   → Backups automáticos
   → Melhor performance

OPÇÃO 2: Usar Serviço Externo
   → MongoDB Atlas (gratuito)
   → Supabase PostgreSQL (gratuito)

OPÇÃO 3: Mudar de Hospedagem
   → Railway.app (suporta volumes)
   → Render.com (suporta volumes)
   → Fly.io (suporta volumes)

═══════════════════════════════════════════════════════════════

📚 DOCUMENTAÇÃO COMPLETA

Para mais detalhes, consulte:
   → VERTRA_VOLUME_PERSISTENTE.md (Guia completo)
   → DEPLOY_VERTRA.md (Deploy geral)
   → VERTRA_TROUBLESHOOTING.md (Problemas comuns)

═══════════════════════════════════════════════════════════════

💡 DICAS IMPORTANTES

✓ Faça backup regular dos dados:
  zip -r backup-data.zip /app/data/

✓ Monitore o uso de espaço do volume:
  du -sh /app/data/

✓ Configure alertas no Vertra para monitorar espaço

═══════════════════════════════════════════════════════════════

🆘 PRECISA DE AJUDA?

Se não conseguir configurar o volume:
1. Entre em contato com o suporte do Vertra
2. Pergunte especificamente sobre "persistent volumes"
3. Mencione que precisa persistir a pasta /app/data/

Ou considere migrar para PostgreSQL - solução mais profissional!

═══════════════════════════════════════════════════════════════
